- name: basic containerd and antrea
  installerSpec:
    kubernetes:
      version: "latest"
    antrea:
      version: "latest"
      isEncryptionDisabled: true
    containerd:
      version: "__testver__"
      s3Override: "__testdist__"
    minio:
      version: "latest"
    kotsadm:
      version: "latest"
    rook:
      version: "latest"
- name: "Upgrade Containerd from latest to __testver__"
  installerSpec:
    kubernetes:
      version: "latest"
    antrea:
      version: "latest"
      isEncryptionDisabled: true
    containerd:
      version: "latest"
    minio:
      version: "latest"
    kotsadm:
      version: "latest"
    rook:
      version: "latest"
  upgradeSpec:
    kubernetes:
      version: "latest"
    antrea:
      version: "latest"
      isEncryptionDisabled: true
    containerd:
      version: "__testver__"
      s3Override: "__testdist__"
    minio:
      version: "latest"
    kotsadm:
      version: "latest"
    rook:
      version: "latest"
- name: "Upgrade Containerd from oldest (1.2.13) to __testver__"
  installerSpec:
    kubernetes:
      version: "latest"
    antrea:
      version: "latest"
      isEncryptionDisabled: true
    containerd:
      version: "1.2.13"
    minio:
      version: "latest"
    kotsadm:
      version: "latest"
    rook:
      version: "latest"
  upgradeSpec:
    kubernetes:
      version: "latest"
    antrea:
      version: "latest"
      isEncryptionDisabled: true
    containerd:
      version: "__testver__"
      s3Override: "__testdist__"
    minio:
      version: "latest"
    kotsadm:
      version: "latest"
    rook:
      version: "latest"
  unsupportedOSIDs:
    # containerd-1.2.13 not supported on CentOS7 and Oracle Linux 7
    - centos-74
    - centos-78
    - centos-79
    - ol-79
    - ubuntu-2204
- name: "Migrate from Docker to Containerd"
  installerSpec:
    kubernetes:
      version: 1.23.x
    antrea:
      version: latest
      isEncryptionDisabled: true
    longhorn:
      version: latest
    registry:
      version: latest
    ekco:
      version: latest
    kotsadm:
      version: latest
      disableS3: true
    docker:
      version: latest
  upgradeSpec:
    kubernetes:
      version: 1.23.x
    antrea:
      version: latest
      isEncryptionDisabled: true
    longhorn:
      version: latest
    registry:
      version: latest
    ekco:
      version: latest
    kotsadm:
      version: latest
      disableS3: true
    containerd:
      version: "__testver__"
      s3Override: "__testdist__"
- name: "Migrate from Docker to Containerd airgap"
  installerSpec:
    kubernetes:
      version: 1.23.x
    antrea:
      version: latest
      isEncryptionDisabled: true
    longhorn:
      version: latest
    registry:
      version: latest
    ekco:
      version: latest
    kotsadm:
      version: latest
      disableS3: true
    docker:
      version: latest
  upgradeSpec:
    kubernetes:
      version: 1.23.x
    antrea:
      version: latest
      isEncryptionDisabled: true
    longhorn:
      version: latest
    registry:
      version: latest
    ekco:
      version: latest
    kotsadm:
      version: latest
      disableS3: true
    containerd:
      version: "__testver__"
      s3Override: "__testdist__"
  airgap: true
